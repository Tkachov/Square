# Класс Input

## Общая информация

Класс Input обрабатывает пользовательский ввод во время работы приложения. Функции класса статичны, то есть вы можете реагировать на ввод откуда угодно.

Вы можете узнать, нажаты, зажаты или отпущены клавиши или кнопки мыши в текущий момент времени. Вы также можете узнать координаты курсора и проверить, не пытается ли пользователь закрыть приложение с помощью кнопки в заголовке окна, комбинации Alt+F4 или через Диспетчер задач.

Кроме того, вы можете «съесть» состояния клавиш и кнопок мыши. Например, если была нажата левая кнопка мыши, то вы, проверив её состояние, получите значение **true**. Если вы «съедите» это состояние и проверите его снова, то вы получите значение **false**. Это может использоваться для того, чтобы одно и то же нажатие не обрабатывалось несколько раз разным кодом (например, если клавиша Escape закрывает окна одно за другим, она может закрыть их все, если состояние клавиши не будет «съедено»).

Ещё вы можете узнать, было ли «съедено» состояние.

Объект также можно «поставить на паузу» и «отключить паузу». Это не меняет его поведение, но может быть использовано для создания системы, в которой некоторые объекты не реагируют на действия пользователя, потому что вы так хотите (например, герой не должен перемещаться, пока игра стоит на паузе, но само меню паузы должно реагировать на действия пользователя).

Пауза сохраняется между разным вызовами функции **update()**, а другие состояния — нет. Это значит, что если вы съели событие нажатия клавиши во время одного вызова **update()**, оно не будет съеденым во время следующего вызова (если вы не съедите его снова).

Клавиши и кнопки мыши могут иметь одно из следующих состояний:
* 0 — не нажата;
* 1 — только что нажата;
* 2 — зажата (уже была нажата, но ещё не была отпущена);
* 3 — только что отпущена.

Состояние 1 переходит в состояние 2 и состояние 3 переходит в состояние 0 на следующий вызов **update()**, если общее состояние (нажата/не нажата) не изменяется.

## Функции

##### `static short int key(SDL_Keycode k)`
Возвращает текущее состояние клавиши **k**.  

----
##### `static bool key_press(SDL_Keycode k, bool eat = false)`
Возвращает **true**, если клавиша **k** только была нажата (состояние 1). Если значение **eat** равно **true**, съедает состояние.  

----
##### `static bool key_hold(SDL_Keycode k, bool eat = false)`
Возвращает **true**, если клавиша **k** зажата (состояние 2). Если значение **eat** равно **true**, съедает состояние.  

----
##### `static bool key_release(SDL_Keycode k, bool eat = false)`
Возвращает **true**, если клавиша **k** только была отпущена (состояние 3). Если значение **eat** равно **true**, съедает состояние. 

----
##### `static bool key_eaten(SDL_Keycode k)`
Возвращает **true**, если состояние клавиши **k** было съедено во время текущего вызова **update()**.  

----
##### `static short int mouse(Uint8 b)`
Возвращает текущее состояние кнопки мыши **b**.  

----
##### `static bool mouse_press(Uint8 m, bool eat = false)`
Возвращает **true**, если мнопка мыши **b** только была нажата (состояние 1). Если значение **eat** равно **true**, съедает состояние.  

----
##### `static bool mouse_hold(Uint8 m, bool eat = false)`
Возвращает **true**, если мнопка мыши **b** зажата (состояние 2). Если значение **eat** равно **true**, съедает состояние.  

----
##### `static bool mouse_release(Uint8 m, bool eat = false)`
Возвращает **true**, если мнопка мыши **b** только была отпущена (состояние 3). Если значение **eat** равно **true**, съедает состояние.  

----
##### `static bool mouse_eaten(Uint8 b)`
Возвращает **true**, если состояние кнопки мыши **b** было съедено во время текущего вызова **update()**.  

----
##### `static int mouse_x()`
Возвращает x-координату курсора мыши.  

----
##### `static int mouse_y()`
Возвращает y-координату курсора мыши.  

----
##### `static int wheel_x()`
Возвращает, на сколько колесо мыши было прокручено по горизонтали во время текущего вызова **update()**.  

----
##### `static int wheel_y()`
Возвращает, на сколько колесо мыши было прокручено по вертикали во время текущего вызова **update()**.  

----
##### `static bool app_paused()`
Возвращает **true**, если приложение приостановлено (на Android ваше приложение приостанавливается, когда пользователь переключается с него на другое).

----
##### `static bool paused()`
Возвращает **true**, если Input был поставлен на паузу.  

----
##### `static bool quit()`
Возвращает **true**, если пользователь нажал кнопку закрытия, комбинацию Alt+F4 или пытается убить процесс через Диспетчер задач.  

----
##### `static void key_eat(SDL_Keycode k)`
Съедает состояние клавиши **k**.  

----
##### `static void mouse_eat(Uint8 b)`
Съедает состояние кнопки мыши **b**.  

----
##### `static void pause()`
Ставит объект на паузу.  

----
##### `static void unpause()`
Отключает паузу.  

## Переменные

##### `string keyboard_string`
Содержит текст, написанный пользователем во время текущего вызова **update()**.  
   
   
**Предыдущий файл:** [Класс Resources](07_Resources.md)  
**[Содержание](00_Contents.md)**  
**Следующий файл:** [Класс State](09_State.md)